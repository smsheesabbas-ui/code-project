[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "gunicorn app.main:app -w 1 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[env]
MONGODB_URL = "${{MONGO_URL}}"
REDIS_URL = "${{REDIS_URL}}"
SECRET_KEY = "${{SECRET_KEY}}"
GOOGLE_CLIENT_ID = "${{GOOGLE_CLIENT_ID}}"
GOOGLE_CLIENT_SECRET = "${{GOOGLE_CLIENT_SECRET}}"
MICROSOFT_CLIENT_ID = "${{MICROSOFT_CLIENT_ID}}"
MICROSOFT_CLIENT_SECRET = "${{MICROSOFT_CLIENT_SECRET}}"
GROQ_API_KEY = "${{GROQ_API_KEY}}"
RESEND_API_KEY = "${{RESEND_API_KEY}}"
